(()=>{"use strict";var t={99:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([t.id,"h1{color:#fff;background-color:#000}\n",""]);const s=i},363:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([t.id,"h1 {\n  color: white;\n  background-color: black;\n}",""]);const s=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<t.length;u++){var p=[].concat(t[u]);r&&i[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),e.push(p))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},i=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],p=o[u]||0,d="".concat(u," ").concat(p);o[u]=p+1;var l=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==l)e[l].references++,e[l].updater(h);else{var m=a(h,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var s=n(o[i]);e[s].references--}for(var c=r(t,a),u=0;u<o.length;u++){var p=n(o[u]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}o=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),a=n.n(r),o=n(569),i=n.n(o),s=n(565),c=n.n(s),u=n(216),p=n.n(u),d=n(589),l=n.n(d),h=n(363),m={};m.styleTagTransform=l(),m.setAttributes=c(),m.insert=i().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),e()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;var f=n(99),y={};y.styleTagTransform=l(),y.setAttributes=c(),y.insert=i().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=p(),e()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals;let g="Barcelos";const v=new class{constructor(t){this.city=document.getElementById("city"),this.temperature=document.getElementById("temperature"),this.min_temp=document.getElementById("min-temp"),this.max_temp=document.getElementById("max-temp"),this.dashboard=document.getElementById("dashboard"),this.description=document.getElementById("description"),this.header=document.getElementById("header"),this.wind=document.getElementById("wind-velocity"),this.humidity=document.getElementById("humidity"),this.search_city=document.getElementById("change-city"),this.search_city.addEventListener("submit",(e=>{t(e)}))}searchCity(t){return t.preventDefault(),document.getElementById("city-input").value}outputCity(t){this.city.innerText=t}outputTemperature(t){this.temperature.innerText=t}outputMinTemperature(t){this.min_temp.innerText=t}outputMaxTemperature(t){this.max_temp.innerText=t}outputDescription(t){this.description.innerText=t}outputBackgroundInHeader(t){this.header.style.cssText=`background-image: url('${t}');\n                background-attachment: fixed;\n                background-size: cover;\n                background-position: center center;\n                `}outputHumidity(t){this.humidity.innerText=t}outputWind(t){this.wind.innerText=t}}((function(t){t.preventDefault();const e=document.getElementById("city-input").value;""===e&&window.alert("Please fill in the city"),g=e,C()})),b=new class{constructor(){this.apiKey="45j3475WNdpgrjPpn1blPTSh0HjNLUFz"}async getGif(t){const e=`https://api.giphy.com/v1/gifs/search?api_key=${this.apiKey}&q=${t}&limit=1`,n=await fetch(e,{mode:"cors"}),r=await n.json();return console.log(r),this.formatResponseGif(r.data)[0]}formatResponseGif(t){const e=[];return t.forEach((t=>{const n=t.images.original.url;e.push(n)})),e}},w=new class{constructor(t){this.apiKey="85dfcfe9ef0ce0be2a1188644d09aed0"}formatResponseWeather(t){const e=[];return t.list.forEach((t=>{const n={day:t.dt_txt.split(" ")[0],hour:t.dt_txt.split(" ")[1],temperature:{tmp:t.main.temp,min:t.main.temp_min,max:t.main.temp_max},weather:{name:t.weather[0].description,icon:t.weather[0].icon},humidity:t.main.humidity,wind:{speed:t.wind.speed}};e.push(n)})),e}async getWeather(t){const e=await this.getCityCoords(t),n=`https://api.openweathermap.org/data/2.5/forecast?appid=${this.apiKey}&lat=${e.lat}&lon=${e.lon}&units=metric`,r=await fetch(n,{mode:"cors"}),a=await r.json();return console.log(a),this.formatResponseWeather(a)}async getCityCoords(t){const e=`https://api.openweathermap.org/geo/1.0/direct?q=${t}&limit=2&appid=${this.apiKey}`,n=await fetch(e),r=await n.json();return{lat:r[0].lat,lon:r[0].lon}}},x=new class{constructor(){this.labels=[],this.datapoints=[]}chartInitialized(){return this.labels.length>0}newChart(t,e){const n=[],r=[];let a,o=!1;e.forEach((t=>{t.hour===a&&(o=!0),a||(a=t.hour),o||(n.push(t.hour),r.push(t.temperature.tmp))}));const i={type:"line",data:{labels:n,datasets:[{label:"Temperature (ºC)",data:r,backgroundColor:"rgba(87, 140, 255, 0.8)",borderColor:"rgba(87, 140, 255, 1)",tension:.1}]},options:{responsive:!0,title:{display:!0,text:"Temperatura en "+e[0].day}}},s=new Chart(t,i);return console.log(s),s}updateChart(t,e){let n,r=!1;e.forEach((t=>{t.hour===n&&(r=!0),n||(n=t.hour),r||(this.labels.push(t.hour),this.datapoints.push(t.temperature.tmp))})),t.data.labels=this.labels,t.data.datasets[0].data=this.datapoints}};let T=null;function C(){w.getWeather(g).then((t=>{!function(t){null!==T?x.updateChart(T,t):T=x.newChart(dashboard,t);let e=Number(t[0].hour.split(":")[0]),n="";n=e>20||e<6?t[0].weather.name+" night":t[0].weather.name+" day",b.getGif(n).then((t=>{v.outputBackgroundInHeader(t)})),v.outputCity(g),v.outputTemperature(t[0].temperature.tmp+"ºC"),v.outputMinTemperature(t[0].temperature.min+"ºC"),v.outputMaxTemperature(t[0].temperature.max+"ºC"),v.outputDescription(t[0].weather.name),v.outputWind(t[0].wind.speed+" km/h"),v.outputHumidity(t[0].humidity+"%")}(t)}))}C()})()})();